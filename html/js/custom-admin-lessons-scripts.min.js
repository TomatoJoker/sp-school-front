document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("add-lesson-button");e&&e.addEventListener("click",function(){var e=window.location.href,e=new URL(e),e=(e.searchParams.set("page_type","new_lesson"),e.toString());window.location.href=e}),document.querySelectorAll(".js-edit-lesson-button").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("data-lesson-id"),t=window.location.href,n=new URLSearchParams(window.location.search),e=(n.set("page_type","lesson"),n.set("lesson_id",e),t.split("?")[0]+"?"+n.toString());window.location.href=e})}),document.querySelectorAll(".js-remove-lesson-button").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n,t,e=this.getAttribute("data-lesson-id");confirm("Ви впевнені що хочете видалити заняття?")&&(n=new XMLHttpRequest,t=ajaxHandler.url,e="action=delete_lesson&lesson_id="+e,n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){var e,t;200===n.status?(e=JSON.parse(n.responseText)).success?(t=document.getElementById("lesson-"+e.data.lesson_id))?(t.parentNode.removeChild(t),alert(e.data.message)):alert("Попередження: Елемент не знайдено, оновіть, будь-ласка, сторінку"):alert("Помилка при видаленні заняття: "+e.data.message):alert("Помилка "+n.status)},n.send(e))})})});